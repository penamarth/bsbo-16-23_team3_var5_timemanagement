# Сценарий использования: Отслеживание статуса задачи

## Успешный сценарий

1. **Сотрудник** запускает функцию отслеживания статуса задачи через `TrackTaskStatusAction.execute(taskId)`
2. **Система** вызывает `AssignedTask.getAssignmentDetails(taskId)` для получения деталей назначения
3. **AssignedTask** выполняет SQL-запрос `SELECT * FROM assigned_tasks WHERE taskId = ?` к базе данных
4. **База данных** возвращает массив назначений `assignments[]` с полями: userId, taskId, completionDate, timeSpent
5. **Система** вызывает `Task.trackStatus()` для получения текущего статуса задачи
6. **Task** выполняет SQL-запрос `SELECT status FROM tasks WHERE taskId = ?` к базе данных
7. **База данных** возвращает статус задачи `status`
8. **Система** выполняет внутреннюю проверку `checkCriticalStatus(currentStatus)` и определяет, является ли статус критическим (например, isCritical = true)
9. **Система** уведомляет сотрудника через `notifyCriticalStatus(taskId, currentStatus)`, если статус критический
10. **Сотрудник** возвращает подтверждение получения уведомления `acknowledgeNotification`
11. **Система** вызывает `Task.getStatusHistory()` для получения истории изменений статуса
12. **Task** выполняет SQL-запрос `SELECT history FROM tasks WHERE taskId = ?` к базе данных
13. **База данных** возвращает историю статуса `statusHistory`
14. **Система** отображает сотруднику информацию о статусе через `showTaskStatus(taskId, currentStatus, statusHistory)`

## Результат
- Сотрудник получает актуальную информацию о статусе задачи и её истории
- Если статус критический, сотрудник получает уведомление и подтверждает его
- Система обеспечивает проверку доступа к задаче через назначение и возвращает только релевантные данные