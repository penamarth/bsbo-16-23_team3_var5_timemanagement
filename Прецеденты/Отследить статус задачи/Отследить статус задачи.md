# Диаграмма последовательностей UML для сценария "Отслеживание статуса задачи"
![Диаграмма последовательностей](../../.images/track-task-status-action.png)

```
@startuml
actor "Сотрудник" as Employee
participant "Система" as System
participant "Task" as TaskObj
participant "Database" as DB
participant "AssignedTask" as AssignedObj

Employee -> System: executeTrackTaskStatus(taskId)
activate System

System -> AssignedObj: getAssignmentDetails(taskId)
activate AssignedObj
AssignedObj -> DB: SELECT * FROM assigned_tasks WHERE taskId = ?
activate DB
DB --> AssignedObj: assignments[]
deactivate DB
AssignedObj --> System: assignmentDetails
deactivate AssignedObj

System -> TaskObj: trackStatus()
activate TaskObj
TaskObj -> DB: SELECT status FROM tasks WHERE taskId = ?
activate DB
DB --> TaskObj: status
deactivate DB
TaskObj --> System: currentStatus
deactivate TaskObj

System -> System: checkCriticalStatus(currentStatus)
activate System
System --> System: isCritical = true
deactivate System

alt isCritical
    System -> Employee: notifyCriticalStatus(taskId, currentStatus)
    activate Employee
    Employee --> System: acknowledgeNotification
    deactivate Employee
end

System -> TaskObj: getStatusHistory()
activate TaskObj
TaskObj -> DB: SELECT history FROM tasks WHERE taskId = ?
activate DB
DB --> TaskObj: statusHistory
deactivate DB
TaskObj --> System: statusHistory
deactivate TaskObj

System --> Employee: showTaskStatus(taskId, currentStatus, statusHistory)
deactivate System

@enduml
```